<!DOCTYPE html>
<html lang='en'><head>
  <title>HDFS는 어떻게 사용할까요?(3) [HDFS 명령어(하)] | shcDE Tech-Blog</title>
  <meta charset='utf-8'>
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3031042205762577"
     crossorigin="anonymous"></script>
  <meta name="generator" content="Hugo 0.101.0" />
  
<script async src="https://www.googletagmanager.com/gtag/js?id=G-XCDRBEN300"></script>
<script>
var doNotTrack = false;
if (!doNotTrack) {
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());
	gtag('config', 'G-XCDRBEN300', { 'anonymize_ip': false });
}
</script>

  <meta name = 'viewport' content = 'width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no'>
  <meta http-equiv = 'X-UA-Compatible' content = 'IE=edge'>
  <meta property="og:image" content="https://github.com/shcDE/pictures/blob/main/images_for_blog/business-gb1f55b807_1920.jpg?raw=true/elephants-g07073c915_1920.jpg">
  <meta property="og:description" content="schDE의 개발 지식 정리용 블로그입니다." /> 
  <meta name="description" content="안녕하세요. schDE의 개발 지식 정리용 블로그입니다.">
<meta property = 'og:locale' content = 'en_US' />
<meta property="og:type" content="article">
<meta property = 'og:title' content = 'HDFS는 어떻게 사용할까요?(3) [HDFS 명령어(하)]' />
<meta name="description" content="이번에 배울 HDFS 명령어는 무엇이 있을까요? 안녕하세요. shcDE입니다. 이번 포스팅에서는 이전 포스팅에서 다루지 못했던 명령어를 다루겠습니다. 포스팅 시작 전에, 해당 게시물은 &lsquo;빅데이터 - 하둡, 하이브로 시작하기&rsquo;(위키독스)를 바탕으로 작성하였음을 알려드 …">
<meta property = 'og:description' content = '이번에 배울 HDFS 명령어는 무엇이 있을까요? 안녕하세요. shcDE입니다. 이번 포스팅에서는 이전 포스팅에서 다루지 못했던 명령어를 다루겠습니다. 포스팅 시작 전에, 해당 게시물은 &lsquo;빅데이터 - 하둡, 하이브로 시작하기&rsquo;(위키독스)를 바탕으로 작성하였음을 알려드 …'>
<meta property = 'og:url' content = 'https://shcde.github.io/post/hdfs3/' />
<meta property = 'og:image' content = 'https://shcde.github.io/images/elephants-g07073c915_1920.jpg'/>
<meta name = 'twitter:card' content = 'summary_large_image' />
<meta name = 'twitter:creator' content = ''>
<meta name = 'twitter:title' content = 'HDFS는 어떻게 사용할까요?(3) [HDFS 명령어(하)]' />
<meta property = 'twitter:description'  content = '이번에 배울 HDFS 명령어는 무엇이 있을까요? 안녕하세요. shcDE입니다. 이번 포스팅에서는 이전 포스팅에서 다루지 못했던 명령어를 다루겠습니다. 포스팅 시작 전에, 해당 게시물은 &lsquo;빅데이터 - 하둡, 하이브로 시작하기&rsquo;(위키독스)를 바탕으로 작성하였음을 알려드 …'/>
<meta name = 'twitter:image' content = 'https://shcde.github.io/images/elephants-g07073c915_1920.jpg' />
<link rel='apple-touch-icon' sizes='180x180' href='https://shcde.github.io/images/icons/apple-touch-icon.png'>
<link rel='icon' type='image/png' sizes='32x32' href='https://shcde.github.io/images/icons/favicon-32x32.png'>
<link rel='icon' type='image/png' sizes='16x16' href='https://shcde.github.io/images/icons/favicon-16x16.png'>
<link rel='manifest' href='https://shcde.github.io/images/icons/site.webmanifest'>

  <link rel='canonical' href='https://shcde.github.io/post/hdfs3/'>
  <link rel = 'stylesheet' href = 'https://shcde.github.io/css/styles.42db596b1300421b76166668f896d65a0e912909aa95394f74e207c69da0d0b652fe2ad414cb6b746661857c824297f791d6df38fce0872ba2a9ccaa421a6b89.css' integrity = 'sha512-QttZaxMAQht2FmZo&#43;JbWWg6RKQmqlTlPdOIHxp2g0LZS/irUFMtrdGZhhXyCQpf3kdbfOPzghyuiqcyqQhpriQ=='>
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3031042205762577" crossorigin="anonymous"></script>
    
  
  <link rel="stylesheet" href="https://shcde.github.io/Users/shc/Desktop/blog/themes/hugo-swift-theme/static/css/prism.css" media="none" onload="this.media='all';">
  
  <script defer language="javascript" type="text/javascript"  src="https://shcde.github.io/users/shc/desktop/blog/themes/hu-swift-theme/static/js/prism.js"></script>
  


</head>

  <body><div class = 'nav-drop'>
  <div class = 'nav-body'>
    
      <a href = 'https://shcde.github.io/categories/freetalk/' class = 'nav_item'>Free Talk</a>
      <a href = 'https://shcde.github.io/categories/development/' class = 'nav_item'>Development</a>
    <div class = 'nav-close'></div>
  </div>
</div><header class = 'nav' >
  <nav class = 'nav-menu'>

    <a href='https://shcde.github.io/' class = 'nav-brand nav_item'>shcDE Tech-Blog</a>
    <div class = 'nav_bar-wrap'>
      <div class = 'nav_bar'></div>
    </div>
  </nav>
  <p><button id="theme-toggle">Click to Switch between Light and Dark Mode</button></p>
</header>

<style>
  .nav_bar-wrap {
  background-Color:orange;
  color: orange;
  }

  button {
  border:2px solid #ff9900;     
  background-Color:#000000;    
  font:16px 나눔고딕;       
  font-weight:bold;    
  color:#ff9900;     
  width:200;height:70;   
  }

  body {
	color: rgb(12, 14, 29); 
	background-color: white;
}
body.dark {
	color: rgb(255, 191, 0); 
	background-color: rgb(12, 14, 29);
}
  </style>

<script>
  var darkMode = false;


if (window.matchMedia('(prefers-color-scheme: light)').matches) {
	darkMode = true;
}


if (localStorage.getItem('theme') === 'dark') {
	darkMode = true;
} else if (localStorage.getItem('theme') === 'light') {
	darkMode = false;
}

if (darkMode) {
	document.body.classList.toggle('dark');
}

document.addEventListener('DOMContentLoaded', () => {

    document.getElementById('theme-toggle').addEventListener('click', () => {
		document.body.classList.toggle('dark');
    	localStorage.setItem('theme', document.body.classList.contains('dark') ? 'dark' : 'light');
	});

});
</script>


    <main>

<section class = 'post_header' style = 'background-image:url(https://shcde.github.io/images/elephants-g07073c915_1920.jpg);'>
  <h1 class='post_title'>HDFS는 어떻게 사용할까요?(3) [HDFS 명령어(하)]</h1>
</section>
<div class = 'post'>
  <div class="date">
    
    
    
    <strong aria-hidden="true"> </strong>
    <br>
    <strong aria-hidden="true">Created date: </strong>Fri, 15 Jul 2022 13:24 KST
    
      
    
  </div>
  <article class='post_content'><p><img src="https://github.com/shcDE/pictures/blob/main/images_for_blog/elephants-g07073c915_1920.jpg?raw=true" alt="elephant"></p>
<hr>
<h1 id="이번에-배울-hdfs-명령어는-무엇이-있을까요">이번에 배울 HDFS 명령어는 무엇이 있을까요?</h1>
<hr>
<p>안녕하세요. shcDE입니다. 이번 포스팅에서는 이전 포스팅에서 다루지 못했던 명령어를 다루겠습니다. 포스팅 시작 전에, 해당 게시물은 <a href="https://wikidocs.net/book/2203">&lsquo;빅데이터 - 하둡, 하이브로 시작하기&rsquo;(위키독스)</a>를 바탕으로 작성하였음을 알려드립니다.</p>
<hr>
<p>우선 fsck 명령어에 대해 말씀드리겠습니다. fsck 커맨드는 HDFS 파일시스템의 상태를 체크하는 명령어 입니다. 해당 커맨드는 파일시스템에 블록 상태 확인, 파일의 복제 개수를 확인하여 결과를 알려줍니다. 예시와 함께 확인해보겠습니다.</p>
<hr>
<p>fsck 명령어는 다음과 같은 형식으로 입력할 수 있습니다.</p>
<hr>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>$ hdfs fsck &lt;path&gt; [-list-corruptfileblocks 
</span></span><span style="display:flex;"><span>                     [-move | -delete | -openforwrite] 
</span></span><span style="display:flex;"><span>                     [-files [-blocks [-locations | -racks]]]] 
</span></span><span style="display:flex;"><span>                     [-includeSnapshots] [-storagepolicies] [-blockId &lt;blk_Id&gt;]
</span></span></code></pre></div><hr>
<p>fsck /는 하둡 서버 내 모든 디렉토리를 확인하는 명령어입니다.</p>
<hr>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>$ bin/hdfs fsck /
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Connecting to namenode via http://localhost:9870/fsck?ugi=shc&amp;path=%2F
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>FSCK started by shc (auth:SIMPLE) from /127.0.0.1 for path / at Fri Jul 15 13:32:33 KST 2022
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Status: HEALTHY
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span> Number of data-nodes:	1
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span> Number of racks:	1
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span> Total dirs:	3
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span> Total symlinks:	0
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Replicated Blocks:
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span> Total size:	0 B
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span> Total files:	0
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span> Total blocks (validated):	0
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span> Minimally replicated blocks:	0
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span> Over-replicated blocks:	0
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span> Under-replicated blocks:	0
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span> Mis-replicated blocks:	0
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span> Default replication factor:	1
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span> Average block replication:	0.0
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span> Missing blocks:	0
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span> Corrupt blocks:	0
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span> Missing replicas:	0
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span> Blocks queued for replication:	0
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Erasure Coded Block Groups:
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span> Total size:	0 B
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span> Total files:	0
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span> Total block groups (validated):	0
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span> Minimally erasure-coded block groups:	0
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span> Over-erasure-coded block groups:	0
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span> Under-erasure-coded block groups:	0
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span> Unsatisfactory placement block groups:	0
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span> Average block group size:	0.0
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span> Missing block groups:	0
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span> Corrupt block groups:	0
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span> Missing internal blocks:	0
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span> Blocks queued for replication:	0
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>FSCK ended at Fri Jul 15 13:32:33 KST 2022 in 1 milliseconds
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>The filesystem under path &#39;/&#39; is HEALTHY
</span></span></code></pre></div><hr>
<p>fsck /user/hadoop/는 /user/hadoop/ 디렉토리의 상태를 확인하는 명령어입니다.</p>
<hr>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>$ bin/hdfs fsck /user/hadoop/
</span></span><span style="display:flex;"><span>Connecting to namenode via http://localhost:9870/fsck?ugi=shc&amp;path=%2Fuser%2Fhadoop
</span></span><span style="display:flex;"><span>FSCK started by shc (auth:SIMPLE) from /127.0.0.1 for path /user/hadoop at Fri Jul 15 13:33:43 KST 2022
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Status: HEALTHY
</span></span><span style="display:flex;"><span> Number of data-nodes:	1
</span></span><span style="display:flex;"><span> Number of racks:		1
</span></span><span style="display:flex;"><span> Total dirs:			1
</span></span><span style="display:flex;"><span> Total symlinks:		0
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Replicated Blocks:
</span></span><span style="display:flex;"><span> Total size:	0 B
</span></span><span style="display:flex;"><span> Total files:	0
</span></span><span style="display:flex;"><span> Total blocks (validated):	0
</span></span><span style="display:flex;"><span> Minimally replicated blocks:	0
</span></span><span style="display:flex;"><span> Over-replicated blocks:	0
</span></span><span style="display:flex;"><span> Under-replicated blocks:	0
</span></span><span style="display:flex;"><span> Mis-replicated blocks:		0
</span></span><span style="display:flex;"><span> Default replication factor:	1
</span></span><span style="display:flex;"><span> Average block replication:	0.0
</span></span><span style="display:flex;"><span> Missing blocks:		0
</span></span><span style="display:flex;"><span> Corrupt blocks:		0
</span></span><span style="display:flex;"><span> Missing replicas:		0
</span></span><span style="display:flex;"><span> Blocks queued for replication:	0
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Erasure Coded Block Groups:
</span></span><span style="display:flex;"><span> Total size:	0 B
</span></span><span style="display:flex;"><span> Total files:	0
</span></span><span style="display:flex;"><span> Total block groups (validated):	0
</span></span><span style="display:flex;"><span> Minimally erasure-coded block groups:	0
</span></span><span style="display:flex;"><span> Over-erasure-coded block groups:	0
</span></span><span style="display:flex;"><span> Under-erasure-coded block groups:	0
</span></span><span style="display:flex;"><span> Unsatisfactory placement block groups:	0
</span></span><span style="display:flex;"><span> Average block group size:	0.0
</span></span><span style="display:flex;"><span> Missing block groups:		0
</span></span><span style="display:flex;"><span> Corrupt block groups:		0
</span></span><span style="display:flex;"><span> Missing internal blocks:	0
</span></span><span style="display:flex;"><span> Blocks queued for replication:	0
</span></span><span style="display:flex;"><span>FSCK ended at Fri Jul 15 13:33:43 KST 2022 in 1 milliseconds
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>The filesystem under path &#39;/user/hadoop&#39; is HEALTHY
</span></span></code></pre></div><hr>
<p>-list-corruptfileblocks는 오염된 파일이 있는지 확인하는 명령어입니다. &ldquo;The filesystem under path &lsquo;/user&rsquo; has 0 CORRUPT files&rdquo; 출력 결과를 통해 오염된 파일이 없음을 확인할 수 있습니다.</p>
<hr>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>$ bin/hdfs fsck /user -list-corruptfileblocks
</span></span><span style="display:flex;"><span>Connecting to namenode via http://localhost:9870/fsck?ugi=shc&amp;listcorruptfileblocks=1&amp;path=%2Fuser
</span></span><span style="display:flex;"><span>The filesystem under path &#39;/user&#39; has 0 CORRUPT files
</span></span></code></pre></div><hr>
<p>-delete 명령어는 오염된 파일을 제거하는 명령어입니다. 해당 예시는 오염된 파일이 없기에 &ldquo;The filesystem under path &lsquo;/user&rsquo; is HEALTHY&rdquo; 메세지가 호출됩니다.</p>
<hr>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>$ bin/hdfs fsck /user -delete
</span></span><span style="display:flex;"><span>Connecting to namenode via http://localhost:9870/fsck?ugi=shc&amp;delete=1&amp;path=%2Fuser
</span></span><span style="display:flex;"><span>FSCK started by shc (auth:SIMPLE) from /127.0.0.1 for path /user at Fri Jul 15 13:35:12 KST 2022
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Status: HEALTHY
</span></span><span style="display:flex;"><span> Number of data-nodes:	1
</span></span><span style="display:flex;"><span> Number of racks:		1
</span></span><span style="display:flex;"><span> Total dirs:			2
</span></span><span style="display:flex;"><span> Total symlinks:		0
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Replicated Blocks:
</span></span><span style="display:flex;"><span> Total size:	0 B
</span></span><span style="display:flex;"><span> Total files:	0
</span></span><span style="display:flex;"><span> Total blocks (validated):	0
</span></span><span style="display:flex;"><span> Minimally replicated blocks:	0
</span></span><span style="display:flex;"><span> Over-replicated blocks:	0
</span></span><span style="display:flex;"><span> Under-replicated blocks:	0
</span></span><span style="display:flex;"><span> Mis-replicated blocks:		0
</span></span><span style="display:flex;"><span> Default replication factor:	1
</span></span><span style="display:flex;"><span> Average block replication:	0.0
</span></span><span style="display:flex;"><span> Missing blocks:		0
</span></span><span style="display:flex;"><span> Corrupt blocks:		0
</span></span><span style="display:flex;"><span> Missing replicas:		0
</span></span><span style="display:flex;"><span> Blocks queued for replication:	0
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Erasure Coded Block Groups:
</span></span><span style="display:flex;"><span> Total size:	0 B
</span></span><span style="display:flex;"><span> Total files:	0
</span></span><span style="display:flex;"><span> Total block groups (validated):	0
</span></span><span style="display:flex;"><span> Minimally erasure-coded block groups:	0
</span></span><span style="display:flex;"><span> Over-erasure-coded block groups:	0
</span></span><span style="display:flex;"><span> Under-erasure-coded block groups:	0
</span></span><span style="display:flex;"><span> Unsatisfactory placement block groups:	0
</span></span><span style="display:flex;"><span> Average block group size:	0.0
</span></span><span style="display:flex;"><span> Missing block groups:		0
</span></span><span style="display:flex;"><span> Corrupt block groups:		0
</span></span><span style="display:flex;"><span> Missing internal blocks:	0
</span></span><span style="display:flex;"><span> Blocks queued for replication:	0
</span></span><span style="display:flex;"><span>FSCK ended at Fri Jul 15 13:35:12 KST 2022 in 1 milliseconds
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>The filesystem under path &#39;/user&#39; is HEALTHY
</span></span></code></pre></div><hr>
<p>fsck /user -files는 /user 디렉토리 내 파일들을 출력하는 명령어입니다. <code>/user &lt;dir&gt;</code>, <code>/user/hadoop &lt;dir&gt;</code>와 같은 형태로 나오고 디렉토리 상태도 같이 출력해줍니다.</p>
<hr>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>$ bin/hdfs fsck /user -files
</span></span><span style="display:flex;"><span>Connecting to namenode via http://localhost:9870/fsck?ugi=shc&amp;files=1&amp;path=%2Fuser
</span></span><span style="display:flex;"><span>FSCK started by shc (auth:SIMPLE) from /127.0.0.1 for path /user at Fri Jul 15 13:35:56 KST 2022
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>/user &lt;dir&gt;
</span></span><span style="display:flex;"><span>/user/hadoop &lt;dir&gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Status: HEALTHY
</span></span><span style="display:flex;"><span> Number of data-nodes:	1
</span></span><span style="display:flex;"><span> Number of racks:		1
</span></span><span style="display:flex;"><span> Total dirs:			2
</span></span><span style="display:flex;"><span> Total symlinks:		0
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Replicated Blocks:
</span></span><span style="display:flex;"><span> Total size:	0 B
</span></span><span style="display:flex;"><span> Total files:	0
</span></span><span style="display:flex;"><span> Total blocks (validated):	0
</span></span><span style="display:flex;"><span> Minimally replicated blocks:	0
</span></span><span style="display:flex;"><span> Over-replicated blocks:	0
</span></span><span style="display:flex;"><span> Under-replicated blocks:	0
</span></span><span style="display:flex;"><span> Mis-replicated blocks:		0
</span></span><span style="display:flex;"><span> Default replication factor:	1
</span></span><span style="display:flex;"><span> Average block replication:	0.0
</span></span><span style="display:flex;"><span> Missing blocks:		0
</span></span><span style="display:flex;"><span> Corrupt blocks:		0
</span></span><span style="display:flex;"><span> Missing replicas:		0
</span></span><span style="display:flex;"><span> Blocks queued for replication:	0
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Erasure Coded Block Groups:
</span></span><span style="display:flex;"><span> Total size:	0 B
</span></span><span style="display:flex;"><span> Total files:	0
</span></span><span style="display:flex;"><span> Total block groups (validated):	0
</span></span><span style="display:flex;"><span> Minimally erasure-coded block groups:	0
</span></span><span style="display:flex;"><span> Over-erasure-coded block groups:	0
</span></span><span style="display:flex;"><span> Under-erasure-coded block groups:	0
</span></span><span style="display:flex;"><span> Unsatisfactory placement block groups:	0
</span></span><span style="display:flex;"><span> Average block group size:	0.0
</span></span><span style="display:flex;"><span> Missing block groups:		0
</span></span><span style="display:flex;"><span> Corrupt block groups:		0
</span></span><span style="display:flex;"><span> Missing internal blocks:	0
</span></span><span style="display:flex;"><span> Blocks queued for replication:	0
</span></span><span style="display:flex;"><span>FSCK ended at Fri Jul 15 13:35:56 KST 2022 in 1 milliseconds
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>The filesystem under path &#39;/user&#39; is HEALTHY
</span></span></code></pre></div><hr>
<p>fsck /user -files -blocks는 block 형태의 파일 리스트를 확인할 수 있는 명령어입니다. 별 다른 특이사항이 없기에 &ldquo;bin/hdfs fsck /user -files&rdquo; 명령어와 동일한 결과를 출력합니다.</p>
<hr>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>$ bin/hdfs fsck /user -files -blocks
</span></span><span style="display:flex;"><span>Connecting to namenode via http://localhost:9870/fsck?ugi=shc&amp;files=1&amp;blocks=1&amp;path=%2Fuser
</span></span><span style="display:flex;"><span>FSCK started by shc (auth:SIMPLE) from /127.0.0.1 for path /user at Fri Jul 15 13:36:53 KST 2022
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>/user &lt;dir&gt;
</span></span><span style="display:flex;"><span>/user/hadoop &lt;dir&gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Status: HEALTHY
</span></span><span style="display:flex;"><span> Number of data-nodes:	1
</span></span><span style="display:flex;"><span> Number of racks:		1
</span></span><span style="display:flex;"><span> Total dirs:			2
</span></span><span style="display:flex;"><span> Total symlinks:		0
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Replicated Blocks:
</span></span><span style="display:flex;"><span> Total size:	0 B
</span></span><span style="display:flex;"><span> Total files:	0
</span></span><span style="display:flex;"><span> Total blocks (validated):	0
</span></span><span style="display:flex;"><span> Minimally replicated blocks:	0
</span></span><span style="display:flex;"><span> Over-replicated blocks:	0
</span></span><span style="display:flex;"><span> Under-replicated blocks:	0
</span></span><span style="display:flex;"><span> Mis-replicated blocks:		0
</span></span><span style="display:flex;"><span> Default replication factor:	1
</span></span><span style="display:flex;"><span> Average block replication:	0.0
</span></span><span style="display:flex;"><span> Missing blocks:		0
</span></span><span style="display:flex;"><span> Corrupt blocks:		0
</span></span><span style="display:flex;"><span> Missing replicas:		0
</span></span><span style="display:flex;"><span> Blocks queued for replication:	0
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Erasure Coded Block Groups:
</span></span><span style="display:flex;"><span> Total size:	0 B
</span></span><span style="display:flex;"><span> Total files:	0
</span></span><span style="display:flex;"><span> Total block groups (validated):	0
</span></span><span style="display:flex;"><span> Minimally erasure-coded block groups:	0
</span></span><span style="display:flex;"><span> Over-erasure-coded block groups:	0
</span></span><span style="display:flex;"><span> Under-erasure-coded block groups:	0
</span></span><span style="display:flex;"><span> Unsatisfactory placement block groups:	0
</span></span><span style="display:flex;"><span> Average block group size:	0.0
</span></span><span style="display:flex;"><span> Missing block groups:		0
</span></span><span style="display:flex;"><span> Corrupt block groups:		0
</span></span><span style="display:flex;"><span> Missing internal blocks:	0
</span></span><span style="display:flex;"><span> Blocks queued for replication:	0
</span></span><span style="display:flex;"><span>FSCK ended at Fri Jul 15 13:36:53 KST 2022 in 1 milliseconds
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>The filesystem under path &#39;/user&#39; is HEALTHY
</span></span></code></pre></div><hr>
<p>이제 운영자 커맨드에 대해 알아보겠습니다. 운영자 커맨드는 주로 실행, 설정 관련 명령어가 많으며, 대표적인 명령어의 사용 예시는 다음과 같습니다.</p>
<hr>
<p>우선 balancer 명령어입니다. 해당 명령어 사용 예시는 다음과 같습니다.</p>
<hr>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span># 둘다 balancer를 실행
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$ bin/hdfs balancer
</span></span><span style="display:flex;"><span>2022-07-15 13:38:07,953 INFO balancer.Balancer: namenodes  = [hdfs://localhost:9000]
</span></span><span style="display:flex;"><span>2022-07-15 13:38:07,955 INFO balancer.Balancer: parameters = Balancer.BalancerParameters [BalancingPolicy.Node, threshold = 10.0, max idle iteration = 5, #excluded nodes = 0, #included nodes = 0, #source nodes = 0, #blockpools = 0, run during upgrade = false]
</span></span><span style="display:flex;"><span>2022-07-15 13:38:07,955 INFO balancer.Balancer: included nodes = []
</span></span><span style="display:flex;"><span>2022-07-15 13:38:07,955 INFO balancer.Balancer: excluded nodes = []
</span></span><span style="display:flex;"><span>2022-07-15 13:38:07,955 INFO balancer.Balancer: source nodes = []
</span></span><span style="display:flex;"><span>Time Stamp               Iteration#  Bytes Already Moved  Bytes Left To Move  Bytes Being Moved  NameNode
</span></span><span style="display:flex;"><span>2022-07-15 13:38:07,958 INFO balancer.NameNodeConnector: getBlocks calls for hdfs://localhost:9000 will be rate-limited to 20 per second
</span></span><span style="display:flex;"><span>2022-07-15 13:38:08,020 WARN util.NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable
</span></span><span style="display:flex;"><span>2022-07-15 13:38:08,974 INFO balancer.Balancer: dfs.namenode.get-blocks.max-qps = 20 (default=20)
</span></span><span style="display:flex;"><span>2022-07-15 13:38:08,974 INFO balancer.Balancer: dfs.balancer.movedWinWidth = 5400000 (default=5400000)
</span></span><span style="display:flex;"><span>2022-07-15 13:38:08,974 INFO balancer.Balancer: dfs.balancer.moverThreads = 1000 (default=1000)
</span></span><span style="display:flex;"><span>2022-07-15 13:38:08,974 INFO balancer.Balancer: dfs.balancer.dispatcherThreads = 200 (default=200)
</span></span><span style="display:flex;"><span>2022-07-15 13:38:08,974 INFO balancer.Balancer: dfs.balancer.getBlocks.size = 2147483648 (default=2147483648)
</span></span><span style="display:flex;"><span>2022-07-15 13:38:08,974 INFO balancer.Balancer: dfs.balancer.getBlocks.min-block-size = 10485760 (default=10485760)
</span></span><span style="display:flex;"><span>2022-07-15 13:38:08,975 INFO balancer.Balancer: dfs.datanode.balance.max.concurrent.moves = 100 (default=100)
</span></span><span style="display:flex;"><span>2022-07-15 13:38:08,975 INFO balancer.Balancer: dfs.datanode.balance.bandwidthPerSec = 104857600 (default=104857600)
</span></span><span style="display:flex;"><span>2022-07-15 13:38:08,980 INFO balancer.Balancer: dfs.balancer.max-size-to-move = 10737418240 (default=10737418240)
</span></span><span style="display:flex;"><span>2022-07-15 13:38:08,980 INFO balancer.Balancer: dfs.blocksize = 134217728 (default=134217728)
</span></span><span style="display:flex;"><span>2022-07-15 13:38:08,996 INFO net.NetworkTopology: Adding a new node: /default-rack/127.0.0.1:9866
</span></span><span style="display:flex;"><span>2022-07-15 13:38:08,997 INFO balancer.Balancer: 0 over-utilized: []
</span></span><span style="display:flex;"><span>2022-07-15 13:38:08,997 INFO balancer.Balancer: 0 underutilized: []
</span></span><span style="display:flex;"><span>Jul 15, 2022 1:38:08 PM           0                  0 B                 0 B                0 B                  0  hdfs://localhost:9000
</span></span><span style="display:flex;"><span>The cluster is balanced. Exiting...
</span></span><span style="display:flex;"><span>Jul 15, 2022 1:38:09 PM  Balancing took 1.642 seconds
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$ bin/hadoop balancer
</span></span><span style="display:flex;"><span>WARNING: Use of this script to execute balancer is deprecated.
</span></span><span style="display:flex;"><span>WARNING: Attempting to execute replacement &#34;hdfs balancer&#34; instead.
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>2022-07-15 13:38:50,432 INFO balancer.Balancer: namenodes  = [hdfs://localhost:9000]
</span></span><span style="display:flex;"><span>2022-07-15 13:38:50,433 INFO balancer.Balancer: parameters = Balancer.BalancerParameters [BalancingPolicy.Node, threshold = 10.0, max idle iteration = 5, #excluded nodes = 0, #included nodes = 0, #source nodes = 0, #blockpools = 0, run during upgrade = false]
</span></span><span style="display:flex;"><span>2022-07-15 13:38:50,433 INFO balancer.Balancer: included nodes = []
</span></span><span style="display:flex;"><span>2022-07-15 13:38:50,434 INFO balancer.Balancer: excluded nodes = []
</span></span><span style="display:flex;"><span>2022-07-15 13:38:50,434 INFO balancer.Balancer: source nodes = []
</span></span><span style="display:flex;"><span>Time Stamp               Iteration#  Bytes Already Moved  Bytes Left To Move  Bytes Being Moved  NameNode
</span></span><span style="display:flex;"><span>2022-07-15 13:38:50,436 INFO balancer.NameNodeConnector: getBlocks calls for hdfs://localhost:9000 will be rate-limited to 20 per second
</span></span><span style="display:flex;"><span>2022-07-15 13:38:50,496 WARN util.NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable
</span></span><span style="display:flex;"><span>2022-07-15 13:38:51,135 INFO balancer.Balancer: dfs.namenode.get-blocks.max-qps = 20 (default=20)
</span></span><span style="display:flex;"><span>2022-07-15 13:38:51,136 INFO balancer.Balancer: dfs.balancer.movedWinWidth = 5400000 (default=5400000)
</span></span><span style="display:flex;"><span>2022-07-15 13:38:51,136 INFO balancer.Balancer: dfs.balancer.moverThreads = 1000 (default=1000)
</span></span><span style="display:flex;"><span>2022-07-15 13:38:51,136 INFO balancer.Balancer: dfs.balancer.dispatcherThreads = 200 (default=200)
</span></span><span style="display:flex;"><span>2022-07-15 13:38:51,136 INFO balancer.Balancer: dfs.balancer.getBlocks.size = 2147483648 (default=2147483648)
</span></span><span style="display:flex;"><span>2022-07-15 13:38:51,136 INFO balancer.Balancer: dfs.balancer.getBlocks.min-block-size = 10485760 (default=10485760)
</span></span><span style="display:flex;"><span>2022-07-15 13:38:51,136 INFO balancer.Balancer: dfs.datanode.balance.max.concurrent.moves = 100 (default=100)
</span></span><span style="display:flex;"><span>2022-07-15 13:38:51,136 INFO balancer.Balancer: dfs.datanode.balance.bandwidthPerSec = 104857600 (default=104857600)
</span></span><span style="display:flex;"><span>2022-07-15 13:38:51,140 INFO balancer.Balancer: dfs.balancer.max-size-to-move = 10737418240 (default=10737418240)
</span></span><span style="display:flex;"><span>2022-07-15 13:38:51,140 INFO balancer.Balancer: dfs.blocksize = 134217728 (default=134217728)
</span></span><span style="display:flex;"><span>2022-07-15 13:38:51,151 INFO net.NetworkTopology: Adding a new node: /default-rack/127.0.0.1:9866
</span></span><span style="display:flex;"><span>2022-07-15 13:38:51,152 INFO balancer.Balancer: 0 over-utilized: []
</span></span><span style="display:flex;"><span>2022-07-15 13:38:51,152 INFO balancer.Balancer: 0 underutilized: []
</span></span><span style="display:flex;"><span>Jul 15, 2022 1:38:51 PM           0                  0 B                 0 B                0 B                  0  hdfs://localhost:9000
</span></span><span style="display:flex;"><span>The cluster is balanced. Exiting...
</span></span><span style="display:flex;"><span>Jul 15, 2022 1:38:51 PM  Balancing took 884.0 milliseconds
</span></span></code></pre></div><hr>
<p>dfsadmin 커맨드는 hdfs의 관리를 위한 정보를 설정 및 변경할 수 있는 명령어입니다. 주 사용 목적은 쿼타(Quota) 설정, 노드 리프레쉬, 노드 동작 및 정지가 있습니다. 주요 사용 예시는 다음과 같습니다.</p>
<hr>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span># dfsadmin 커맨드 전체 명령어
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$ bin/hdfs dfsadmin 
</span></span><span style="display:flex;"><span>Usage: hdfs dfsadmin
</span></span><span style="display:flex;"><span>Note: Administrative commands can only be run as the HDFS superuser.
</span></span><span style="display:flex;"><span>	[-report [-live] [-dead] [-decommissioning] [-enteringmaintenance] [-inmaintenance]]
</span></span><span style="display:flex;"><span>	[-safemode &lt;enter | leave | get | wait | forceExit&gt;]
</span></span><span style="display:flex;"><span>	[-saveNamespace [-beforeShutdown]]
</span></span><span style="display:flex;"><span>	[-rollEdits]
</span></span><span style="display:flex;"><span>	[-restoreFailedStorage true|false|check]
</span></span><span style="display:flex;"><span>	[-refreshNodes]
</span></span><span style="display:flex;"><span>	[-setQuota &lt;quota&gt; &lt;dirname&gt;...&lt;dirname&gt;]
</span></span><span style="display:flex;"><span>	[-clrQuota &lt;dirname&gt;...&lt;dirname&gt;]
</span></span><span style="display:flex;"><span>	[-setSpaceQuota &lt;quota&gt; [-storageType &lt;storagetype&gt;] &lt;dirname&gt;...&lt;dirname&gt;]
</span></span><span style="display:flex;"><span>	[-clrSpaceQuota [-storageType &lt;storagetype&gt;] &lt;dirname&gt;...&lt;dirname&gt;]
</span></span><span style="display:flex;"><span>	[-finalizeUpgrade]
</span></span><span style="display:flex;"><span>	[-rollingUpgrade [&lt;query|prepare|finalize&gt;]]
</span></span><span style="display:flex;"><span>	[-upgrade &lt;query | finalize&gt;]
</span></span><span style="display:flex;"><span>	[-refreshServiceAcl]
</span></span><span style="display:flex;"><span>	[-refreshUserToGroupsMappings]
</span></span><span style="display:flex;"><span>	[-refreshSuperUserGroupsConfiguration]
</span></span><span style="display:flex;"><span>	[-refreshCallQueue]
</span></span><span style="display:flex;"><span>	[-refresh &lt;host:ipc_port&gt; &lt;key&gt; [arg1..argn]
</span></span><span style="display:flex;"><span>	[-reconfig &lt;namenode|datanode&gt; &lt;host:ipc_port&gt; &lt;start|status|properties&gt;]
</span></span><span style="display:flex;"><span>	[-printTopology]
</span></span><span style="display:flex;"><span>	[-refreshNamenodes datanode_host:ipc_port]
</span></span><span style="display:flex;"><span>	[-getVolumeReport datanode_host:ipc_port]
</span></span><span style="display:flex;"><span>	[-deleteBlockPool datanode_host:ipc_port blockpoolId [force]]
</span></span><span style="display:flex;"><span>	[-setBalancerBandwidth &lt;bandwidth in bytes per second&gt;]
</span></span><span style="display:flex;"><span>	[-getBalancerBandwidth &lt;datanode_host:ipc_port&gt;]
</span></span><span style="display:flex;"><span>	[-fetchImage &lt;local directory&gt;]
</span></span><span style="display:flex;"><span>	[-allowSnapshot &lt;snapshotDir&gt;]
</span></span><span style="display:flex;"><span>	[-disallowSnapshot &lt;snapshotDir&gt;]
</span></span><span style="display:flex;"><span>	[-shutdownDatanode &lt;datanode_host:ipc_port&gt; [upgrade]]
</span></span><span style="display:flex;"><span>	[-evictWriters &lt;datanode_host:ipc_port&gt;]
</span></span><span style="display:flex;"><span>	[-getDatanodeInfo &lt;datanode_host:ipc_port&gt;]
</span></span><span style="display:flex;"><span>	[-metasave filename]
</span></span><span style="display:flex;"><span>	[-triggerBlockReport [-incremental] &lt;datanode_host:ipc_port&gt; [-namenode &lt;namenode_host:ipc_port&gt;]]
</span></span><span style="display:flex;"><span>	[-listOpenFiles [-blockingDecommission] [-path &lt;path&gt;]]
</span></span><span style="display:flex;"><span>	[-help [cmd]]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Generic options supported are:
</span></span><span style="display:flex;"><span>-conf &lt;configuration file&gt;        specify an application configuration file
</span></span><span style="display:flex;"><span>-D &lt;property=value&gt;               define a value for a given property
</span></span><span style="display:flex;"><span>-fs &lt;file:///|hdfs://namenode:port&gt; specify default filesystem URL to use, overrides &#39;fs.defaultFS&#39; property from configurations.
</span></span><span style="display:flex;"><span>-jt &lt;local|resourcemanager:port&gt;  specify a ResourceManager
</span></span><span style="display:flex;"><span>-files &lt;file1,...&gt;                specify a comma-separated list of files to be copied to the map reduce cluster
</span></span><span style="display:flex;"><span>-libjars &lt;jar1,...&gt;               specify a comma-separated list of jar files to be included in the classpath
</span></span><span style="display:flex;"><span>-archives &lt;archive1,...&gt;          specify a comma-separated list of archives to be unarchived on the compute machines
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>The general command line syntax is:
</span></span><span style="display:flex;"><span>command [genericOptions] [commandOptions]
</span></span></code></pre></div><hr>
<p>-report 명령어를 통해 HDFS의 전체 사용량과 각 노드의 상태를 확인할 수 있습니다. 사용 예시는 다음과 같습니다.</p>
<hr>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>$ bin/hdfs dfsadmin -report
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Configured Capacity: 409000189952 (380.91 GB)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Present Capacity: 103079079936 (96.00 GB)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>DFS Remaining: 103079071744 (96.00 GB)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>DFS Used: 8192 (8 KB)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>DFS Used%: 0.00%
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Replicated Blocks:
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Under replicated blocks: 0
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Blocks with corrupt replicas: 0
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Missing blocks: 0
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Missing blocks (with replication factor 1): 0
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Low redundancy blocks with highest priority to recover: 0
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Pending deletion blocks: 0
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Erasure Coded Block Groups: 
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Low redundancy block groups: 0
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Block groups with corrupt internal blocks: 0
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Missing block groups: 0
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Low redundancy blocks with highest priority to recover: 0
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Pending deletion blocks: 0
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>-------------------------------------------------
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Live datanodes (1):
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Name: 127.0.0.1:9866 (localhost)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Hostname: 172.30.1.9
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Decommission Status : Normal
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Configured Capacity: 409000189952 (380.91 GB)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>DFS Used: 8192 (8 KB)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Non DFS Used: 303063531520 (282.25 GB)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>DFS Remaining: 103079071744 (96.00 GB)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>DFS Used%: 0.00%
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>DFS Remaining%: 25.20%
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Configured Cache Capacity: 0 (0 B)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Cache Used: 0 (0 B)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Cache Remaining: 0 (0 B)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Cache Used%: 100.00%
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Cache Remaining%: 0.00%
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Xceivers: 0
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Last contact: Fri Jul 15 13:43:11 KST 2022
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Last Block Report: Fri Jul 15 13:26:41 KST 2022
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Num of Blocks: 0
</span></span></code></pre></div><hr>
<p>-safemode 명령어는 세이프모드에 진입하고 빠져나올 수 있게 도와줍니다. 각 명령어는 다음과 같은 역할을 합니다.</p>
<hr>
<table>
<thead>
<tr>
<th>옵션</th>
<th>비고</th>
</tr>
</thead>
<tbody>
<tr>
<td>get</td>
<td>세이프 모드 상태를 확인</td>
</tr>
<tr>
<td>enter</td>
<td>세이프 모드 진입</td>
</tr>
<tr>
<td>leave</td>
<td>세이프 모드 복구</td>
</tr>
<tr>
<td>wait</td>
<td>세이프 모드이면 대기하다가, 세이프모드가 끝나면 회복</td>
</tr>
</tbody>
</table>
<hr>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>$ bin/hdfs dfsadmin -safemode get
</span></span><span style="display:flex;"><span>Safe mode is OFF
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$ bin/hdfs dfsadmin -safemode enter
</span></span><span style="display:flex;"><span>Safe mode is ON
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$ bin/hdfs dfsadmin -safemode get
</span></span><span style="display:flex;"><span>Safe mode is ON
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$ bin/hdfs dfsadmin -safemode leave
</span></span><span style="display:flex;"><span>Safe mode is OFF
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$ bin/hdfs dfsadmin -safemode wait
</span></span><span style="display:flex;"><span>Safe mode is OFF
</span></span></code></pre></div><hr>
<p>-triggerBlockReport 명령어는 데이터노드에게 블록리포트를 전달하는 역할을 합니다. 사용 예시는 다음과 같습니다.</p>
<hr>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>$ bin/hdfs dfsadmin -triggerBlockReport datanode_host_name:datanode_ipc_port
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>triggerBlockReport: Does not contain a valid host:port authority: datanode_host_name:datanode_ipc_port
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Usage: hdfs dfsadmin [-triggerBlockReport [-incremental] &lt;datanode_host:ipc_port&gt; [-namenode &lt;namenode_host:ipc_port&gt;]]
</span></span></code></pre></div><hr>
<p>fetchdt 명령어는 현재 v3으로 넘어간 이후로 사라진 명령어이므로 여기서는 스킵하겠습니다.</p>
<hr>
<p>checknative 명령어는 서버에 설치 된 네이티브 압축 라이브러리 상태를 확인합니다. 사용 예시는 다음과 같습니다.</p>
<hr>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>$ bin/hadoop checknative -a
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>2022-07-15 13:57:10,371 WARN util.NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Native library checking:
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>hadoop:  false 
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>zlib:    false 
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>zstd  :  false 
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>bzip2:   false 
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>openssl: false 
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>ISA-L:   false 
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>PMDK:    false 
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>2022-07-15 13:57:10,450 INFO util.ExitUtil: Exiting with status 1: ExitException
</span></span></code></pre></div><hr>
<p>네이티브 설정이 되지 않았기에, 라이브러리 상태가 전부 false로 확인됨을 알 수 있습니다. 하지만 나중에 네이티브 설정이 완료된 이후에 다시 확인할 수 있는 상황이 발생할 수 있으니 우선은 core-site.xml 파일에 해당 코드를 입력하여 저장하겠습니다.</p>
<hr>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>&lt;property&gt;  
</span></span><span style="display:flex;"><span>  &lt;name&gt;io.compression.codecs&lt;/name&gt;  
</span></span><span style="display:flex;"><span>  &lt;value&gt;org.apache.hadoop.io.compress.GzipCodec,org.apache.hadoop.io.compress.DefaultCodec,org.apache.hadoop.io.compress.SnappyCodec&lt;/value&gt;  
</span></span><span style="display:flex;"><span>&lt;/property&gt;
</span></span></code></pre></div><hr>
<p>이상으로 HDFS 기본 명령어에 대해 상, 하 편에 걸쳐 모두 확인하였습니다. 다음 포스팅은 다시 HDFS 기본 사용법에 대해 다룰 예정입니다.</p>
<hr>
<p>오늘도 긴 글 읽어주시느라 고생하셨습니다.</p>
<hr>
<h4 id="감사합니다">감사합니다.</h4>
<hr>
<p>[레퍼런스]</p>
<ol>
<li>빅데이터 - 하둡, 하이브로 시작하기(위키독스) : <a href="https://wikidocs.net/book/2203">https://wikidocs.net/book/2203</a></li>
<li>07-HDFS 명령어(빅데이터 - 하둡, 하이브로 시작하기(위키독스)) : <a href="https://wikidocs.net/26496">https://wikidocs.net/26496</a></li>
</ol>

    

    
  </article>
  
  <aside><h3>More from shcDE Tech-Blog</h3>
<ul class='posts aside'>
<li class = 'post_item fp'>
  <a class = 'post_card' href='https://shcde.github.io/post/java5/' title = '자바 공부 기록(5) - 객체지향 프로그래밍에 대해 알아볼까요?(1)' style = 'background-image: url(https://shcde.github.io/images/coffee-gab9b09d77_1920.jpg);'>
  </a>
  <div class = 'excerpt'>
    <div class = 'excerpt_meta'>
      <a href = 'https://shcde.github.io/tags/development' class = 'post_tag'>development
      </a><div id=inline class="out">
  2022-07-24
</div>
<div class = 'copy' data-share = 'Copy' data-copied = 'Copied'><svg>
  <use xlink:href="#copy"></use>
</svg>
</div>

<style>
  .out {
  border: 2px solid rgb(255, 132, 0);
  background-color: rgb(255, 132, 0);
  width: 100px;
  height: 25px;
  border-radius: 5px;
  font:14px 나눔고딕;
  font-weight:bold;
}

#inline {
  text-align: center;
  line-height: 20px;
  color : white;
}
</style>
    </div>
    <h3 class = 'post_link'>
      <a href='https://shcde.github.io/post/java5/'>자바 공부 기록(5) - 객체지향 프로그래밍에 대해 알아볼까요?(1)</a>
    </h3>
    <p class = 'pale'>자바에서 객체지향 프로그래밍은 어떻게 할까요? 안녕하세요. shcDE입니다. 이번 포스팅부터는 객체지향 프로그래밍에 대해 2~3회에 걸쳐 설명하겠습니다. …</p>
  </div>
</li>

<li class = 'post_item fp'>
  <a class = 'post_card' href='https://shcde.github.io/post/java4/' title = '자바 공부 기록(4) - 배열에 대해 알아볼까요?' style = 'background-image: url(https://shcde.github.io/images/coffee-gab9b09d77_1920.jpg);'>
  </a>
  <div class = 'excerpt'>
    <div class = 'excerpt_meta'>
      <a href = 'https://shcde.github.io/tags/development' class = 'post_tag'>development
      </a><div id=inline class="out">
  2022-07-23
</div>
<div class = 'copy' data-share = 'Copy' data-copied = 'Copied'><svg>
  <use xlink:href="#copy"></use>
</svg>
</div>

<style>
  .out {
  border: 2px solid rgb(255, 132, 0);
  background-color: rgb(255, 132, 0);
  width: 100px;
  height: 25px;
  border-radius: 5px;
  font:14px 나눔고딕;
  font-weight:bold;
}

#inline {
  text-align: center;
  line-height: 20px;
  color : white;
}
</style>
    </div>
    <h3 class = 'post_link'>
      <a href='https://shcde.github.io/post/java4/'>자바 공부 기록(4) - 배열에 대해 알아볼까요?</a>
    </h3>
    <p class = 'pale'>자바에서 배열은 어떻게 사용할까요? 안녕하세요. shcDE입니다. 이번 포스팅에서는 배열에 대해 다루겠습니다. 배열이란 같은 타입의 여러 변수를 하나의 묶음으로  …</p>
  </div>
</li>

</ul>

  </aside>
  
</div>
<script src = 'https://shcde.github.io/js/autosize.min.js'></script>
<script src = 'https://shcde.github.io/js/timeago.js'></script>
    </main><svg width="0" height="0" class="hidden">
  <symbol viewBox="0 0 699.428 699.428" xmlns="http://www.w3.org/2000/svg" id="copy">
    <path d="M502.714 0H240.428C194.178 0 153 42.425 153 87.429l-25.267.59c-46.228 0-84.019 41.834-84.019 86.838V612c0 45.004 41.179 87.428 87.429 87.428H459c46.249 0 87.428-42.424 87.428-87.428h21.857c46.25 0 87.429-42.424 87.429-87.428v-349.19zM459 655.715H131.143c-22.95 0-43.714-21.441-43.714-43.715V174.857c0-22.272 18.688-42.993 41.638-42.993l23.933-.721v393.429C153 569.576 194.178 612 240.428 612h262.286c0 22.273-20.765 43.715-43.714 43.715zm153-131.143c0 22.271-20.765 43.713-43.715 43.713H240.428c-22.95 0-43.714-21.441-43.714-43.713V87.429c0-22.272 20.764-43.714 43.714-43.714H459c-.351 50.337 0 87.975 0 87.975 0 45.419 40.872 86.882 87.428 86.882H612zm-65.572-349.715c-23.277 0-43.714-42.293-43.714-64.981V44.348L612 174.857zm-43.714 131.537H306c-12.065 0-21.857 9.77-21.857 21.835s9.792 21.835 21.857 21.835h196.714c12.065 0 21.857-9.771 21.857-21.835 0-12.065-9.792-21.835-21.857-21.835zm0 109.176H306c-12.065 0-21.857 9.77-21.857 21.834 0 12.066 9.792 21.836 21.857 21.836h196.714c12.065 0 21.857-9.77 21.857-21.836 0-12.064-9.792-21.834-21.857-21.834z"
    ></path>
  </symbol>
  <symbol viewBox="0 0 60.015 60.015" xmlns="http://www.w3.org/2000/svg" id="reply">
    <path d="M42.007 0h-24c-9.925 0-18 8.075-18 18v14c0 9.59 7.538 17.452 17 17.973v8.344a1.694 1.694 0 0 0 1.699 1.698c.44 0 .873-.173 1.198-.498l1.876-1.876C26.708 52.713 33.259 50 40.227 50h1.78c9.925 0 18-8.075 18-18V18c0-9.925-8.075-18-18-18zm16 32c0 8.822-7.178 16-16 16h-1.78c-7.502 0-14.556 2.921-19.86 8.226l-1.359 1.359V44a1 1 0 1 0-2 0v3.949c-8.356-.52-15-7.465-15-15.949V18c0-8.822 7.178-16 16-16h24c8.822 0 16 7.178 16 16v14z"></path>
  </symbol>
  <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" id="scan">
    <path d="M456.66 0H385c-8.284 0-15 6.716-15 15s6.716 15 15 15h71.66C470.632 30 482 41.368 482 55.341V127c0 8.284 6.716 15 15 15s15-6.716 15-15V55.341C512 24.826 487.174 0 456.66 0zM15 142c8.284 0 15-6.716 15-15V55.341C30 41.368 41.368 30 55.34 30H127c8.284 0 15-6.716 15-15s-6.716-15-15-15H55.34C24.826 0 0 24.826 0 55.341V127c0 8.284 6.716 15 15 15zm112 340H55.34C41.368 482 30 470.632 30 456.659V385c0-8.284-6.716-15-15-15s-15 6.716-15 15v71.659C0 487.174 24.826 512 55.34 512H127c8.284 0 15-6.716 15-15s-6.716-15-15-15zm370-112c-8.284 0-15 6.716-15 15v71.659C482 470.632 470.632 482 456.66 482H385c-8.284 0-15 6.716-15 15s6.716 15 15 15h71.66c30.515 0 55.34-24.826 55.34-55.341V385c0-8.284-6.716-15-15-15zM341.643 110h47.575c6.497 0 11.782 5.285 11.782 11.782v47.574c0 8.284 6.716 15 15 15s15-6.716 15-15v-47.574C431 98.743 412.256 80 389.218 80h-47.575c-8.284 0-15 6.716-15 15s6.716 15 15 15zM81 121.782v47.574c0 8.284 6.716 15 15 15s15-6.716 15-15v-47.574c0-6.497 5.286-11.782 11.782-11.782h47.575c8.284 0 15-6.716 15-15s-6.716-15-15-15h-47.575C99.744 80 81 98.743 81 121.782zM170.357 400h-47.575c-6.497 0-11.782-5.285-11.782-11.782v-47.574c0-8.284-6.716-15-15-15s-15 6.716-15 15v47.574C81 411.257 99.744 430 122.782 430h47.575c8.284 0 15-6.716 15-15s-6.716-15-15-15zM431 388.218v-47.574c0-8.284-6.716-15-15-15s-15 6.716-15 15v47.574c0 6.497-5.286 11.782-11.782 11.782h-47.575c-8.284 0-15 6.716-15 15s6.716 15 15 15h47.575C412.256 430 431 411.257 431 388.218zM1 256c0 8.284 6.716 15 15 15h480c8.284 0 15-6.716 15-15s-6.716-15-15-15H16c-8.284 0-15 6.716-15 15z"></path>
  </symbol>
</svg>
<footer class="footer">
  <div class="footer_inner wrap pale">
    <p>&copy;&nbsp;<span class="year"></span>&nbsp;shcDE Tech-Blog.
    Designed by  <a href = 'https://www.linkedin.com/in/dan-weru-profile/' title = 'Linkedin Profile'>Weru</a></p>
  </div>
  
  <script src="https://utteranc.es/client.js"
        repo="shcDE/blog-comments"
        issue-term="title"
        theme="github-light"
        crossorigin="anonymous"
        async>
  </script>
</footer><script type="text/javascript" src="https://shcde.github.io/js/bundle.444d59fb57116584f9d07a6aff51bf335fe9975644550a0d68e213d2d51db57326d29ea67a57b44b1b381cf4ca7d866d3e69f5ad5f3d1e49b2fc4edc508cbd03.js" integrity="sha512-RE1Z&#43;1cRZYT50Hpq/1G/M1/pl1ZEVQoNaOIT0tUdtXMm0p6mele0Sxs4HPTKfYZtPmn1rV89Hkmy/E7cUIy9Aw==" crossorigin="anonymous"></script>

  </body>
</html>
